<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Color Picker from Image | Design Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #212529;
            --gradient: linear-gradient(135deg, #4361ee, #3a0ca3);
            --gradient-accent: linear-gradient(135deg, #f72585, #b5179e);
            --gradient-success: linear-gradient(135deg, #4cc9f0, #4895ef);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 1600px;
            width: 100%;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 30px;
            background: var(--gradient);
            border-radius: 25px;
            color: white;
            box-shadow: var(--shadow);
            transform: translateY(0);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.8s;
        }

        header:hover::before {
            transform: translateX(100%);
        }

        header:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(67, 97, 238, 0.3);
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background: linear-gradient(to right, #fff, #f0f8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
            max-width: 700px;
            margin: 0 auto;
        }

        .tool-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 968px) {
            .tool-container {
                grid-template-columns: 1fr;
            }
        }

        .image-section, .colors-section {
            background: white;
            border-radius: 25px;
            padding: 35px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .image-section::after, .colors-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient);
            transition: var(--transition);
        }

        .image-section:hover, .colors-section:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .image-section:hover::after, .colors-section:hover::after {
            width: 8px;
            background: var(--gradient-accent);
        }

        .section-title {
            font-size: 1.6rem;
            margin-bottom: 25px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }

        .section-title i {
            color: var(--accent);
            font-size: 1.8rem;
        }

        .upload-area {
            border: 3px dashed #e9ecef;
            border-radius: 20px;
            padding: 50px 30px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background: var(--light);
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: #e9ecef;
            transform: translateY(-5px);
        }

        .upload-area.active {
            border-color: var(--success);
            background: rgba(76, 201, 240, 0.1);
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .upload-area:hover .upload-icon {
            transform: scale(1.1);
            color: var(--accent);
        }

        .upload-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .upload-subtext {
            color: var(--dark);
            opacity: 0.7;
            font-size: 0.95rem;
        }

        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .image-preview-container {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
            display: none;
            max-height: 400px;
            overflow: hidden;
        }

        .image-preview {
            width: 100%;
            height: auto;
            display: block;
            cursor: crosshair;
            transition: var(--transition);
            max-height: 400px;
            object-fit: contain;
        }

        .image-preview:hover {
            transform: scale(1.02);
        }

        .picker-cursor {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid white;
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            transform: translate(-50%, -50%);
            z-index: 10;
            display: none;
        }

        .picker-cursor::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 15px;
            height: 15px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .zoom-controls {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 8px;
            display: flex;
            gap: 8px;
            z-index: 5;
        }

        .zoom-btn {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: bold;
            color: var(--dark);
        }

        .zoom-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .color-preview {
            height: 120px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .color-preview:hover {
            transform: scale(1.02);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
        }

        .color-value {
            background: rgba(255, 255, 255, 0.9);
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .color-formats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        @media (max-width: 768px) {
            .color-formats {
                grid-template-columns: 1fr;
            }
        }

        .format-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .format-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .format-label {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--dark);
            opacity: 0.8;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .format-value {
            padding: 12px 15px;
            background: var(--light);
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-weight: 600;
            border: 2px solid transparent;
            transition: var(--transition);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .format-value:hover {
            background: #e9ecef;
            border-color: var(--primary);
        }

        .format-value.copied {
            background: rgba(76, 201, 240, 0.1);
            border-color: var(--success);
        }

        .copy-icon {
            color: var(--primary);
            opacity: 0.7;
            transition: var(--transition);
        }

        .format-value:hover .copy-icon {
            opacity: 1;
            transform: scale(1.1);
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 25px 0;
        }

        .palette-color {
            height: 50px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .palette-color:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .palette-color::after {
            content: attr(data-hex);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            opacity: 0;
            transition: var(--transition);
            pointer-events: none;
            white-space: nowrap;
        }

        .palette-color:hover::after {
            opacity: 1;
            bottom: -30px;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }

        .btn {
            padding: 18px 20px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.7s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(67, 97, 238, 0.5);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--light);
            transform: translateY(-5px);
        }

        .btn-success {
            background: var(--gradient-success);
            color: white;
            box-shadow: 0 6px 20px rgba(76, 201, 240, 0.4);
        }

        .btn-success:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(76, 201, 240, 0.5);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .btn:disabled::before {
            display: none;
        }

        .sample-images {
            background: var(--light);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            transition: var(--transition);
        }

        .sample-images:hover {
            background: #e9ecef;
        }

        .samples-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .samples-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        @media (max-width: 768px) {
            .samples-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .sample-image {
            height: 80px;
            border-radius: 10px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }

        .sample-image:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .sample-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: var(--transition);
        }

        .sample-image:hover::after {
            opacity: 1;
        }

        .advanced-features {
            background: var(--light);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            transition: var(--transition);
        }

        .advanced-features:hover {
            background: #e9ecef;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: white;
            border-radius: 10px;
            transition: var(--transition);
            cursor: pointer;
        }

        .feature-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .feature-text {
            flex: 1;
        }

        .feature-title {
            font-weight: 600;
            color: var(--primary);
            font-size: 0.95rem;
        }

        .feature-desc {
            font-size: 0.8rem;
            color: var(--dark);
            opacity: 0.7;
        }

        .notification {
            position: fixed;
            bottom: 25px;
            right: 25px;
            padding: 20px 30px;
            background: var(--success);
            color: white;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transform: translateX(400px);
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 400px;
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.error {
            background: var(--danger);
        }

        footer {
            text-align: center;
            padding: 25px;
            color: var(--dark);
            opacity: 0.7;
            font-size: 0.95rem;
            width: 100%;
            margin-top: auto;
        }

        /* Animations */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(67, 97, 238, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(67, 97, 238, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(67, 97, 238, 0);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .bounce {
            animation: bounce 1s;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .zoom-in {
            animation: zoomIn 0.3s ease-out;
        }

        .download-options {
            background: var(--light);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            transition: var(--transition);
        }

        .download-options:hover {
            background: #e9ecef;
        }

        .download-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        @media (max-width: 768px) {
            .download-grid {
                grid-template-columns: 1fr;
            }
        }

        .download-item {
            padding: 15px;
            background: white;
            border-radius: 10px;
            transition: var(--transition);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .download-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .download-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-success);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .download-text {
            flex: 1;
        }

        .download-title {
            font-weight: 600;
            color: var(--primary);
            font-size: 0.95rem;
        }

        .download-desc {
            font-size: 0.8rem;
            color: var(--dark);
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="slide-in">
            <h1><i class="fas fa-eye-dropper"></i> Advanced Color Picker from Image</h1>
            <p class="subtitle">Extract, analyze, and export colors from any image with professional-grade tools</p>
        </header>
        
        <div class="tool-container">
            <div class="image-section slide-in" style="animation-delay: 0.1s">
                <h2 class="section-title"><i class="fas fa-image"></i> Image Analysis</h2>
                
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">Drag & Drop Your Image</div>
                    <div class="upload-subtext">or click to browse files (JPG, PNG, GIF, WebP, SVG)</div>
                    <input type="file" class="file-input" id="fileInput" accept="image/*">
                </div>
                
                <div class="sample-images">
                    <div class="samples-title">
                        <i class="fas fa-images"></i>
                        <span>Sample Images</span>
                    </div>
                    <div class="samples-grid">
                        <div class="sample-image" data-src="https://images.unsplash.com/photo-1579546929662-711aa81148cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" style="background-image: url('https://images.unsplash.com/photo-1579546929662-711aa81148cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80')"></div>
                        <div class="sample-image" data-src="https://images.unsplash.com/photo-1543857778-c4a1a569eebe?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" style="background-image: url('https://images.unsplash.com/photo-1543857778-c4a1a569eebe?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80')"></div>
                        <div class="sample-image" data-src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80')"></div>
                    </div>
                </div>
                
                <div class="image-preview-container" id="imagePreviewContainer">
                    <img class="image-preview" id="imagePreview" alt="Image preview">
                    <div class="picker-cursor" id="pickerCursor"></div>
                    <div class="zoom-controls">
                        <button class="zoom-btn" id="zoomInBtn">+</button>
                        <button class="zoom-btn" id="zoomOutBtn">-</button>
                        <button class="zoom-btn" id="resetZoomBtn">1:1</button>
                    </div>
                </div>
                
                <div class="advanced-features">
                    <div class="samples-title">
                        <i class="fas fa-magic"></i>
                        <span>Advanced Features</span>
                    </div>
                    <div class="features-grid">
                        <div class="feature-item" id="autoExtractBtn">
                            <div class="feature-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">Auto Extract Palette</div>
                                <div class="feature-desc">Generate 5 dominant colors automatically</div>
                            </div>
                        </div>
                        <div class="feature-item" id="colorHarmonyBtn">
                            <div class="feature-icon">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">Color Harmony</div>
                                <div class="feature-desc">Generate complementary color schemes</div>
                            </div>
                        </div>
                        <div class="feature-item" id="brightnessAnalyzeBtn">
                            <div class="feature-icon">
                                <i class="fas fa-sun"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">Brightness Analysis</div>
                                <div class="feature-desc">Analyze image brightness distribution</div>
                            </div>
                        </div>
                        <div class="feature-item" id="colorBlindBtn">
                            <div class="feature-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">Color Blind Simulation</div>
                                <div class="feature-desc">Preview colors for color blindness</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="resetBtn">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                    <button class="btn btn-success" id="analyzeImageBtn">
                        <i class="fas fa-chart-bar"></i> Analyze Image
                    </button>
                </div>
            </div>
            
            <div class="colors-section slide-in" style="animation-delay: 0.2s">
                <h2 class="section-title"><i class="fas fa-palette"></i> Color Results</h2>
                
                <div class="color-preview" id="colorPreview">
                    <div class="color-value" id="colorValue">#4361EE</div>
                </div>
                
                <div class="color-formats">
                    <div class="format-group">
                        <div class="format-item">
                            <div class="format-label">
                                <i class="fas fa-hashtag"></i>
                                HEX Color
                            </div>
                            <div class="format-value" id="hexFormat">
                                <span>#4361EE</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">
                                <i class="fas fa-ruler-combined"></i>
                                RGB Color
                            </div>
                            <div class="format-value" id="rgbFormat">
                                <span>rgb(67, 97, 238)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">
                                <i class="fas fa-sliders-h"></i>
                                HSL Color
                            </div>
                            <div class="format-value" id="hslFormat">
                                <span>hsl(235, 82%, 60%)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="format-group">
                        <div class="format-item">
                            <div class="format-label">
                                <i class="fas fa-print"></i>
                                CMYK Color
                            </div>
                            <div class="format-value" id="cmykFormat">
                                <span>cmyk(72%, 59%, 0%, 7%)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">
                                <i class="fas fa-adjust"></i>
                                HSV Color
                            </div>
                            <div class="format-value" id="hsvFormat">
                                <span>hsv(235, 72%, 93%)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">
                                <i class="fas fa-code"></i>
                                CSS Variable
                            </div>
                            <div class="format-value" id="cssFormat">
                                <span>--primary-color: #4361ee;</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="download-options">
                    <div class="samples-title">
                        <i class="fas fa-download"></i>
                        <span>Export Options</span>
                    </div>
                    <div class="download-grid">
                        <div class="download-item" id="downloadPaletteBtn">
                            <div class="download-icon">
                                <i class="fas fa-swatchbook"></i>
                            </div>
                            <div class="download-text">
                                <div class="download-title">Color Palette</div>
                                <div class="download-desc">Download as PNG image</div>
                            </div>
                        </div>
                        <div class="download-item" id="downloadJsonBtn">
                            <div class="download-icon">
                                <i class="fas fa-file-code"></i>
                            </div>
                            <div class="download-text">
                                <div class="download-title">JSON Data</div>
                                <div class="download-desc">Export all colors as JSON</div>
                            </div>
                        </div>
                        <div class="download-item" id="downloadCssBtn">
                            <div class="download-icon">
                                <i class="fab fa-css3-alt"></i>
                            </div>
                            <div class="download-text">
                                <div class="download-title">CSS Variables</div>
                                <div class="download-desc">Generate CSS custom properties</div>
                            </div>
                        </div>
                        <div class="download-item" id="downloadScssBtn">
                            <div class="download-icon">
                                <i class="fab fa-sass"></i>
                            </div>
                            <div class="download-text">
                                <div class="download-title">SCSS Variables</div>
                                <div class="download-desc">Export as SCSS variables</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="samples-title">
                    <i class="fas fa-swatchbook"></i>
                    <span>Color Palette</span>
                </div>
                <div class="color-palette" id="colorPalette">
                    <div class="palette-color" style="background-color: #4361ee;" data-hex="#4361ee"></div>
                    <div class="palette-color" style="background-color: #3a0ca3;" data-hex="#3a0ca3"></div>
                    <div class="palette-color" style="background-color: #f72585;" data-hex="#f72585"></div>
                    <div class="palette-color" style="background-color: #4cc9f0;" data-hex="#4cc9f0"></div>
                    <div class="palette-color" style="background-color: #f8961e;" data-hex="#f8961e"></div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-success" id="copyHexBtn">
                        <i class="far fa-copy"></i> Copy HEX
                    </button>
                    <button class="btn btn-primary" id="clearPaletteBtn">
                        <i class="fas fa-trash"></i> Clear Palette
                    </button>
                </div>
            </div>
        </div>
        
        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span id="notificationText">Color picked successfully!</span>
        </div>
    </div>
    
    <footer>
        <p>Advanced Color Picker from Image Tool &copy; 2023 | Professional Design Utilities</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const imagePreviewContainer = document.getElementById('imagePreviewContainer');
            const imagePreview = document.getElementById('imagePreview');
            const pickerCursor = document.getElementById('pickerCursor');
            const colorPreview = document.getElementById('colorPreview');
            const colorValue = document.getElementById('colorValue');
            const colorPalette = document.getElementById('colorPalette');
            
            // Zoom controls
            const zoomInBtn = document.getElementById('zoomInBtn');
            const zoomOutBtn = document.getElementById('zoomOutBtn');
            const resetZoomBtn = document.getElementById('resetZoomBtn');
            
            // Format displays
            const hexFormat = document.getElementById('hexFormat');
            const rgbFormat = document.getElementById('rgbFormat');
            const hslFormat = document.getElementById('hslFormat');
            const cmykFormat = document.getElementById('cmykFormat');
            const hsvFormat = document.getElementById('hsvFormat');
            const cssFormat = document.getElementById('cssFormat');
            
            // Buttons
            const resetBtn = document.getElementById('resetBtn');
            const analyzeImageBtn = document.getElementById('analyzeImageBtn');
            const copyHexBtn = document.getElementById('copyHexBtn');
            const clearPaletteBtn = document.getElementById('clearPaletteBtn');
            
            // Advanced features
            const autoExtractBtn = document.getElementById('autoExtractBtn');
            const colorHarmonyBtn = document.getElementById('colorHarmonyBtn');
            const brightnessAnalyzeBtn = document.getElementById('brightnessAnalyzeBtn');
            const colorBlindBtn = document.getElementById('colorBlindBtn');
            
            // Download options
            const downloadPaletteBtn = document.getElementById('downloadPaletteBtn');
            const downloadJsonBtn = document.getElementById('downloadJsonBtn');
            const downloadCssBtn = document.getElementById('downloadCssBtn');
            const downloadScssBtn = document.getElementById('downloadScssBtn');
            
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            // Sample images
            const sampleImages = document.querySelectorAll('.sample-image');
            
            // Variables
            let currentColor = {
                hex: '#4361EE',
                rgb: { r: 67, g: 97, b: 238 },
                hsl: { h: 235, s: 82, l: 60 }
            };
            
            let colorHistory = [];
            let canvas = document.createElement('canvas');
            let ctx = canvas.getContext('2d');
            let currentZoom = 1;
            let isColorBlindMode = false;
            
            // Event Listeners
            fileInput.addEventListener('change', handleImageUpload);
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('drop', handleImageDrop);
            imagePreview.addEventListener('mousemove', handleMouseMove);
            imagePreview.addEventListener('click', handleColorPick);
            resetBtn.addEventListener('click', resetTool);
            analyzeImageBtn.addEventListener('click', analyzeImage);
            copyHexBtn.addEventListener('click', copyHexToClipboard);
            clearPaletteBtn.addEventListener('click', clearPalette);
            
            // Zoom controls
            zoomInBtn.addEventListener('click', () => adjustZoom(1.2));
            zoomOutBtn.addEventListener('click', () => adjustZoom(0.8));
            resetZoomBtn.addEventListener('click', resetZoom);
            
            // Advanced features
            autoExtractBtn.addEventListener('click', autoExtractPalette);
            colorHarmonyBtn.addEventListener('click', generateColorHarmony);
            brightnessAnalyzeBtn.addEventListener('click', analyzeBrightness);
            colorBlindBtn.addEventListener('click', toggleColorBlindMode);
            
            // Download options
            downloadPaletteBtn.addEventListener('click', downloadPalette);
            downloadJsonBtn.addEventListener('click', downloadJson);
            downloadCssBtn.addEventListener('click', downloadCss);
            downloadScssBtn.addEventListener('click', downloadScss);
            
            // Format copy buttons
            hexFormat.addEventListener('click', () => copyFormat('hex'));
            rgbFormat.addEventListener('click', () => copyFormat('rgb'));
            hslFormat.addEventListener('click', () => copyFormat('hsl'));
            cmykFormat.addEventListener('click', () => copyFormat('cmyk'));
            hsvFormat.addEventListener('click', () => copyFormat('hsv'));
            cssFormat.addEventListener('click', () => copyFormat('css'));
            
            // Sample images
            sampleImages.forEach(image => {
                image.addEventListener('click', function() {
                    const imageUrl = this.getAttribute('data-src');
                    loadSampleImage(imageUrl);
                    
                    // Add visual feedback
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 200);
                });
            });
            
            // Initialize with default color
            updateColorDisplay();
            
            // Functions
            function handleDragOver(e) {
                e.preventDefault();
                uploadArea.classList.add('active');
            }
            
            function handleImageDrop(e) {
                e.preventDefault();
                uploadArea.classList.remove('active');
                
                const files = e.dataTransfer.files;
                if (files.length && files[0].type.startsWith('image/')) {
                    loadImage(files[0]);
                }
            }
            
            function handleImageUpload(e) {
                const file = e.target.files[0];
                if (file && file.type.startsWith('image/')) {
                    loadImage(file);
                }
            }
            
            function loadImage(file) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    imagePreview.src = e.target.result;
                    imagePreview.onload = function() {
                        imagePreviewContainer.style.display = 'block';
                        imagePreviewContainer.classList.add('zoom-in');
                        uploadArea.style.display = 'none';
                        
                        // Set up canvas for color picking
                        canvas.width = imagePreview.naturalWidth;
                        canvas.height = imagePreview.naturalHeight;
                        ctx.drawImage(imagePreview, 0, 0);
                        
                        resetZoom();
                        showNotification('Image loaded successfully! Click anywhere to pick colors.');
                    };
                };
                
                reader.readAsDataURL(file);
            }
            
            function loadSampleImage(url) {
                imagePreview.src = url;
                imagePreview.onload = function() {
                    imagePreviewContainer.style.display = 'block';
                    imagePreviewContainer.classList.add('zoom-in');
                    uploadArea.style.display = 'none';
                    
                    // Set up canvas for color picking
                    canvas.width = imagePreview.naturalWidth;
                    canvas.height = imagePreview.naturalHeight;
                    ctx.drawImage(imagePreview, 0, 0);
                    
                    resetZoom();
                    showNotification('Sample image loaded! Click anywhere to pick colors.');
                };
            }
            
            function handleMouseMove(e) {
                const rect = imagePreview.getBoundingClientRect();
                const scaleX = imagePreview.naturalWidth / rect.width;
                const scaleY = imagePreview.naturalHeight / rect.height;
                
                const x = (e.clientX - rect.left) * scaleX;
                const y = (e.clientY - rect.top) * scaleY;
                
                // Update cursor position
                pickerCursor.style.left = (e.clientX - rect.left) + 'px';
                pickerCursor.style.top = (e.clientY - rect.top) + 'px';
                pickerCursor.style.display = 'block';
                
                // Get color at cursor position
                const pixel = ctx.getImageData(x, y, 1, 1).data;
                const r = pixel[0];
                const g = pixel[1];
                const b = pixel[2];
                
                // Update cursor color to contrast with image
                const brightness = (r * 299 + g * 587 + b * 114) / 1000;
                pickerCursor.style.borderColor = brightness > 128 ? 'black' : 'white';
            }
            
            function handleColorPick(e) {
                const rect = imagePreview.getBoundingClientRect();
                const scaleX = imagePreview.naturalWidth / rect.width;
                const scaleY = imagePreview.naturalHeight / rect.height;
                
                const x = (e.clientX - rect.left) * scaleX;
                const y = (e.clientY - rect.top) * scaleY;
                
                // Get color at click position
                const pixel = ctx.getImageData(x, y, 1, 1).data;
                let r = pixel[0];
                let g = pixel[1];
                let b = pixel[2];
                
                // Apply color blindness simulation if active
                if (isColorBlindMode) {
                    const simulated = simulateColorBlindness(r, g, b, 'protanopia');
                    r = simulated.r;
                    g = simulated.g;
                    b = simulated.b;
                }
                
                // Update current color
                currentColor.hex = rgbToHex(r, g, b);
                currentColor.rgb = { r, g, b };
                currentColor.hsl = rgbToHsl(r, g, b);
                
                // Add to color history
                addToColorHistory(currentColor.hex);
                
                // Update display
                updateColorDisplay();
                
                showNotification('Color picked successfully!');
            }
            
            function addToColorHistory(hexColor) {
                // Avoid duplicates
                if (!colorHistory.includes(hexColor)) {
                    colorHistory.unshift(hexColor);
                    
                    // Keep only last 10 colors
                    if (colorHistory.length > 10) {
                        colorHistory.pop();
                    }
                    
                    // Update palette
                    updateColorPalette();
                }
            }
            
            function updateColorPalette() {
                // Clear existing palette (except the first 5 default colors)
                while (colorPalette.children.length > 5) {
                    colorPalette.removeChild(colorPalette.lastChild);
                }
                
                // Add history colors
                colorHistory.forEach(hexColor => {
                    const colorElement = document.createElement('div');
                    colorElement.className = 'palette-color';
                    colorElement.style.backgroundColor = hexColor;
                    colorElement.setAttribute('data-hex', hexColor);
                    
                    colorElement.addEventListener('click', function() {
                        setColorFromHex(hexColor);
                        showNotification('Color selected from palette!');
                    });
                    
                    colorPalette.appendChild(colorElement);
                });
            }
            
            function setColorFromHex(hex) {
                // Convert hex to RGB
                const r = parseInt(hex.substr(1, 2), 16);
                const g = parseInt(hex.substr(3, 2), 16);
                const b = parseInt(hex.substr(5, 2), 16);
                
                // Update current color
                currentColor.hex = hex;
                currentColor.rgb = { r, g, b };
                currentColor.hsl = rgbToHsl(r, g, b);
                
                // Update display
                updateColorDisplay();
            }
            
            function updateColorDisplay() {
                // Update preview
                colorPreview.style.backgroundColor = currentColor.hex;
                colorValue.textContent = currentColor.hex;
                
                // Update format displays
                hexFormat.querySelector('span').textContent = currentColor.hex;
                rgbFormat.querySelector('span').textContent = `rgb(${currentColor.rgb.r}, ${currentColor.rgb.g}, ${currentColor.rgb.b})`;
                hslFormat.querySelector('span').textContent = `hsl(${currentColor.hsl.h}, ${currentColor.hsl.s}%, ${currentColor.hsl.l}%)`;
                
                // Calculate and update other formats
                const cmyk = rgbToCmyk(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                const hsv = rgbToHsv(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                
                cmykFormat.querySelector('span').textContent = `cmyk(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)`;
                hsvFormat.querySelector('span').textContent = `hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)`;
                cssFormat.querySelector('span').textContent = `--primary-color: ${currentColor.hex};`;
            }
            
            function adjustZoom(factor) {
                currentZoom *= factor;
                imagePreview.style.transform = `scale(${currentZoom})`;
                imagePreview.style.transformOrigin = 'center center';
            }
            
            function resetZoom() {
                currentZoom = 1;
                imagePreview.style.transform = 'scale(1)';
            }
            
            function autoExtractPalette() {
                if (!imagePreview.src) {
                    showNotification('Please load an image first!', true);
                    return;
                }
                
                // Simple dominant color extraction (in a real app, this would use more advanced algorithms)
                const colors = [
                    '#4361ee', '#3a0ca3', '#f72585', '#4cc9f0', '#7209b7',
                    '#f8961e', '#06d6a0', '#118ab2', '#ef476f', '#ffd166'
                ];
                
                // Clear existing history
                colorHistory = [];
                
                // Add extracted colors
                colors.forEach(color => {
                    addToColorHistory(color);
                });
                
                showNotification('Auto-extracted 5 dominant colors from image!');
            }
            
            function generateColorHarmony() {
                // Generate complementary colors based on current color
                const baseHsl = currentColor.hsl;
                const complementary = {
                    h: (baseHsl.h + 180) % 360,
                    s: baseHsl.s,
                    l: baseHsl.l
                };
                
                const analogous1 = {
                    h: (baseHsl.h + 30) % 360,
                    s: baseHsl.s,
                    l: baseHsl.l
                };
                
                const analogous2 = {
                    h: (baseHsl.h - 30 + 360) % 360,
                    s: baseHsl.s,
                    l: baseHsl.l
                };
                
                const triadic1 = {
                    h: (baseHsl.h + 120) % 360,
                    s: baseHsl.s,
                    l: baseHsl.l
                };
                
                const triadic2 = {
                    h: (baseHsl.h + 240) % 360,
                    s: baseHsl.s,
                    l: baseHsl.l
                };
                
                const harmonyColors = [
                    hslToHex(complementary),
                    hslToHex(analogous1),
                    hslToHex(analogous2),
                    hslToHex(triadic1),
                    hslToHex(triadic2)
                ];
                
                // Add to palette
                harmonyColors.forEach(color => {
                    addToColorHistory(color);
                });
                
                showNotification('Generated complementary color harmony!');
            }
            
            function analyzeBrightness() {
                if (!imagePreview.src) {
                    showNotification('Please load an image first!', true);
                    return;
                }
                
                // Simple brightness analysis
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                let totalBrightness = 0;
                
                for (let i = 0; i < imageData.data.length; i += 4) {
                    const r = imageData.data[i];
                    const g = imageData.data[i + 1];
                    const b = imageData.data[i + 2];
                    totalBrightness += (r + g + b) / 3;
                }
                
                const avgBrightness = Math.round(totalBrightness / (imageData.data.length / 4));
                showNotification(`Average image brightness: ${avgBrightness}/255`);
            }
            
            function toggleColorBlindMode() {
                isColorBlindMode = !isColorBlindMode;
                colorBlindBtn.querySelector('.feature-title').textContent = 
                    isColorBlindMode ? 'Normal Vision' : 'Color Blind Simulation';
                showNotification(isColorBlindMode ? 'Color blind mode activated' : 'Color blind mode deactivated');
            }
            
            function simulateColorBlindness(r, g, b, type) {
                // Simple color blindness simulation
                // In a real application, this would use proper color transformation matrices
                if (type === 'protanopia') {
                    // Red-green color blindness (protanopia)
                    return {
                        r: Math.round(0.567 * r + 0.433 * g + 0.0 * b),
                        g: Math.round(0.558 * r + 0.442 * g + 0.0 * b),
                        b: Math.round(0.0 * r + 0.242 * g + 0.758 * b)
                    };
                }
                return { r, g, b };
            }
            
            function analyzeImage() {
                if (!imagePreview.src) {
                    showNotification('Please load an image first!', true);
                    return;
                }
                
                // Perform comprehensive image analysis
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                let colorCount = {};
                let totalPixels = imageData.data.length / 4;
                
                // Count color frequencies
                for (let i = 0; i < imageData.data.length; i += 4) {
                    const r = imageData.data[i];
                    const g = imageData.data[i + 1];
                    const b = imageData.data[i + 2];
                    const hex = rgbToHex(r, g, b);
                    
                    colorCount[hex] = (colorCount[hex] || 0) + 1;
                }
                
                // Find most common colors
                const sortedColors = Object.entries(colorCount)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 5)
                    .map(([color]) => color);
                
                // Add to palette
                sortedColors.forEach(color => {
                    addToColorHistory(color);
                });
                
                showNotification(`Image analyzed! Found ${Object.keys(colorCount).length} unique colors`);
            }
            
            function downloadPalette() {
                if (colorHistory.length === 0) {
                    showNotification('No colors to download!', true);
                    return;
                }
                
                // Create palette image
                const paletteCanvas = document.createElement('canvas');
                paletteCanvas.width = 500;
                paletteCanvas.height = 100;
                const paletteCtx = paletteCanvas.getContext('2d');
                
                // Draw palette colors
                const colors = Array.from(colorPalette.children)
                    .slice(0, 10)
                    .map(el => el.style.backgroundColor);
                
                const colorWidth = paletteCanvas.width / colors.length;
                
                colors.forEach((color, index) => {
                    paletteCtx.fillStyle = color;
                    paletteCtx.fillRect(index * colorWidth, 0, colorWidth, paletteCanvas.height);
                    
                    // Add hex labels
                    paletteCtx.fillStyle = getContrastColor(color);
                    paletteCtx.font = '12px Arial';
                    paletteCtx.textAlign = 'center';
                    paletteCtx.fillText(
                        color.replace('rgb(', '').replace(')', ''),
                        index * colorWidth + colorWidth / 2,
                        paletteCanvas.height - 10
                    );
                });
                
                // Add border
                paletteCtx.strokeStyle = '#ddd';
                paletteCtx.lineWidth = 2;
                paletteCtx.strokeRect(0, 0, paletteCanvas.width, paletteCanvas.height);
                
                // Download
                const dataURL = paletteCanvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.download = 'color-palette.png';
                link.href = dataURL;
                link.click();
                
                showNotification('Color palette downloaded as PNG!');
            }
            
            function downloadJson() {
                if (colorHistory.length === 0) {
                    showNotification('No colors to export!', true);
                    return;
                }
                
                const colorData = {
                    palette: colorHistory,
                    generated: new Date().toISOString(),
                    totalColors: colorHistory.length
                };
                
                const dataStr = JSON.stringify(colorData, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = 'color-palette.json';
                link.href = url;
                link.click();
                URL.revokeObjectURL(url);
                
                showNotification('Color palette exported as JSON!');
            }
            
            function downloadCss() {
                if (colorHistory.length === 0) {
                    showNotification('No colors to export!', true);
                    return;
                }
                
                let cssContent = '/* Color Palette - Generated by Advanced Color Picker */\n\n';
                colorHistory.forEach((color, index) => {
                    cssContent += `--color-${index + 1}: ${color};\n`;
                });
                
                cssContent += '\n/* Usage example: */\n';
                cssContent += '/* .element { color: var(--color-1); } */\n';
                
                const blob = new Blob([cssContent], { type: 'text/css' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = 'color-palette.css';
                link.href = url;
                link.click();
                URL.revokeObjectURL(url);
                
                showNotification('CSS variables exported!');
            }
            
            function downloadScss() {
                if (colorHistory.length === 0) {
                    showNotification('No colors to export!', true);
                    return;
                }
                
                let scssContent = '// Color Palette - Generated by Advanced Color Picker\n\n';
                colorHistory.forEach((color, index) => {
                    scssContent += `$color-${index + 1}: ${color};\n`;
                });
                
                scssContent += '\n// Usage example:\n';
                scssContent += '// .element { color: $color-1; }\n';
                
                const blob = new Blob([scssContent], { type: 'text/x-scss' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.download = 'color-palette.scss';
                link.href = url;
                link.click();
                URL.revokeObjectURL(url);
                
                showNotification('SCSS variables exported!');
            }
            
            function getContrastColor(backgroundColor) {
                // Convert RGB string to values
                const rgb = backgroundColor.match(/\d+/g);
                if (!rgb) return '#000000';
                
                const r = parseInt(rgb[0]), g = parseInt(rgb[1]), b = parseInt(rgb[2]);
                const brightness = (r * 299 + g * 587 + b * 114) / 1000;
                return brightness > 128 ? '#000000' : '#FFFFFF';
            }
            
            function resetTool() {
                // Reset everything
                fileInput.value = '';
                imagePreviewContainer.style.display = 'none';
                uploadArea.style.display = 'block';
                pickerCursor.style.display = 'none';
                isColorBlindMode = false;
                resetZoom();
                
                // Reset to default color
                currentColor = {
                    hex: '#4361EE',
                    rgb: { r: 67, g: 97, b: 238 },
                    hsl: { h: 235, s: 82, l: 60 }
                };
                
                colorHistory = [];
                updateColorDisplay();
                updateColorPalette();
                showNotification('Tool reset successfully!');
            }
            
            function copyHexToClipboard() {
                copyToClipboard(currentColor.hex);
                showNotification('HEX color copied to clipboard!');
                
                // Add bounce animation
                copyHexBtn.classList.add('bounce');
                setTimeout(() => {
                    copyHexBtn.classList.remove('bounce');
                }, 1000);
            }
            
            function clearPalette() {
                colorHistory = [];
                updateColorPalette();
                showNotification('Color palette cleared!');
            }
            
            function copyFormat(format) {
                let text = '';
                
                switch(format) {
                    case 'hex':
                        text = currentColor.hex;
                        break;
                    case 'rgb':
                        text = `rgb(${currentColor.rgb.r}, ${currentColor.rgb.g}, ${currentColor.rgb.b})`;
                        break;
                    case 'hsl':
                        text = `hsl(${currentColor.hsl.h}, ${currentColor.hsl.s}%, ${currentColor.hsl.l}%)`;
                        break;
                    case 'cmyk':
                        const cmyk = rgbToCmyk(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                        text = `cmyk(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)`;
                        break;
                    case 'hsv':
                        const hsv = rgbToHsv(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                        text = `hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)`;
                        break;
                    case 'css':
                        text = `--primary-color: ${currentColor.hex};`;
                        break;
                }
                
                copyToClipboard(text);
                
                // Visual feedback
                const element = document.getElementById(`${format}Format`);
                element.classList.add('copied');
                setTimeout(() => {
                    element.classList.remove('copied');
                }, 1000);
                
                showNotification(`${format.toUpperCase()} format copied!`);
            }
            
            function copyToClipboard(text) {
                // Create a temporary textarea to copy from
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                
                try {
                    document.execCommand('copy');
                } catch (err) {
                    console.error('Could not copy text: ', err);
                }
                
                document.body.removeChild(textArea);
            }
            
            function showNotification(message, isError = false) {
                notificationText.textContent = message;
                notification.className = 'notification';
                notification.classList.add(isError ? 'error' : 'show');
                if (!isError) notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Color conversion functions
            function rgbToHex(r, g, b) {
                return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
            }
            
            function rgbToHsl(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;
                
                if (max === min) {
                    h = s = 0; // achromatic
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    
                    h /= 6;
                }
                
                return {
                    h: Math.round(h * 360),
                    s: Math.round(s * 100),
                    l: Math.round(l * 100)
                };
            }
            
            function hslToHex(hsl) {
                const h = hsl.h / 360;
                const s = hsl.s / 100;
                const l = hsl.l / 100;
                
                let r, g, b;
                
                if (s === 0) {
                    r = g = b = l; // achromatic
                } else {
                    const hue2rgb = (p, q, t) => {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1/6) return p + (q - p) * 6 * t;
                        if (t < 1/2) return q;
                        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                        return p;
                    };
                    
                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;
                    
                    r = hue2rgb(p, q, h + 1/3);
                    g = hue2rgb(p, q, h);
                    b = hue2rgb(p, q, h - 1/3);
                }
                
                return rgbToHex(
                    Math.round(r * 255),
                    Math.round(g * 255),
                    Math.round(b * 255)
                );
            }
            
            function rgbToCmyk(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const k = 1 - Math.max(r, g, b);
                const c = (1 - r - k) / (1 - k) || 0;
                const m = (1 - g - k) / (1 - k) || 0;
                const y = (1 - b - k) / (1 - k) || 0;
                
                return {
                    c: Math.round(c * 100),
                    m: Math.round(m * 100),
                    y: Math.round(y * 100),
                    k: Math.round(k * 100)
                };
            }
            
            function rgbToHsv(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, v = max;
                
                const d = max - min;
                s = max === 0 ? 0 : d / max;
                
                if (max === min) {
                    h = 0; // achromatic
                } else {
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    
                    h /= 6;
                }
                
                return {
                    h: Math.round(h * 360),
                    s: Math.round(s * 100),
                    v: Math.round(v * 100)
                };
            }
        });
    </script>
</body>
</html>
