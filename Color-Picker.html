<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Picker & Converter | Design Tool</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #212529;
            --gradient: linear-gradient(135deg, #4361ee, #3a0ca3);
            --gradient-accent: linear-gradient(135deg, #f72585, #b5179e);
            --gradient-success: linear-gradient(135deg, #4cc9f0, #4895ef);
            --transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            --shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 30px;
            background: var(--gradient);
            border-radius: 25px;
            color: white;
            box-shadow: var(--shadow);
            transform: translateY(0);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            transform: translateX(-100%);
            transition: transform 0.8s;
        }

        header:hover::before {
            transform: translateX(100%);
        }

        header:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(67, 97, 238, 0.3);
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background: linear-gradient(to right, #fff, #f0f8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            font-weight: 300;
            max-width: 700px;
            margin: 0 auto;
        }

        .tool-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 968px) {
            .tool-container {
                grid-template-columns: 1fr;
            }
        }

        .picker-section, .converter-section {
            background: white;
            border-radius: 25px;
            padding: 35px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .picker-section::after, .converter-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient);
            transition: var(--transition);
        }

        .picker-section:hover, .converter-section:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .picker-section:hover::after, .converter-section:hover::after {
            width: 8px;
            background: var(--gradient-accent);
        }

        .section-title {
            font-size: 1.6rem;
            margin-bottom: 25px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }

        .section-title i {
            color: var(--accent);
            font-size: 1.8rem;
        }

        .color-preview {
            height: 120px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .color-preview:hover {
            transform: scale(1.02);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2);
        }

        .color-value {
            background: rgba(255, 255, 255, 0.9);
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .picker-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        @media (max-width: 768px) {
            .picker-controls {
                grid-template-columns: 1fr;
            }
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        label {
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label i {
            color: var(--accent);
        }

        .color-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .color-input {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .color-input label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--dark);
            opacity: 0.8;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .range-value {
            font-weight: 600;
            color: var(--primary);
            text-align: center;
            font-size: 0.9rem;
        }

        .hex-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .hex-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-weight: 600;
            transition: var(--transition);
        }

        .hex-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 25px 0;
        }

        .palette-color {
            height: 50px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .palette-color:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .conversion-formats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        @media (max-width: 768px) {
            .conversion-formats {
                grid-template-columns: 1fr;
            }
        }

        .format-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .format-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .format-label {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--dark);
            opacity: 0.8;
        }

        .format-value {
            padding: 12px 15px;
            background: var(--light);
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-weight: 600;
            border: 2px solid transparent;
            transition: var(--transition);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .format-value:hover {
            background: #e9ecef;
            border-color: var(--primary);
        }

        .format-value.copied {
            background: rgba(76, 201, 240, 0.1);
            border-color: var(--success);
        }

        .copy-icon {
            color: var(--primary);
            opacity: 0.7;
            transition: var(--transition);
        }

        .format-value:hover .copy-icon {
            opacity: 1;
            transform: scale(1.1);
        }

        .color-properties {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .property-card {
            background: var(--light);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: var(--transition);
        }

        .property-card:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }

        .property-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .property-label {
            font-size: 0.9rem;
            color: var(--dark);
            opacity: 0.7;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }

        .btn {
            padding: 18px 20px;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.7s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(67, 97, 238, 0.5);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--light);
            transform: translateY(-5px);
        }

        .btn-success {
            background: var(--gradient-success);
            color: white;
            box-shadow: 0 6px 20px rgba(76, 201, 240, 0.4);
        }

        .btn-success:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(76, 201, 240, 0.5);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .btn:disabled::before {
            display: none;
        }

        .preset-colors {
            background: var(--light);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            transition: var(--transition);
        }

        .preset-colors:hover {
            background: #e9ecef;
        }

        .preset-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .preset-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .preset-color {
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .preset-color:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }

        .preset-color::after {
            content: attr(data-name);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            opacity: 0;
            transition: var(--transition);
            pointer-events: none;
            white-space: nowrap;
        }

        .preset-color:hover::after {
            opacity: 1;
            bottom: -30px;
        }

        .notification {
            position: fixed;
            bottom: 25px;
            right: 25px;
            padding: 20px 30px;
            background: var(--success);
            color: white;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transform: translateX(400px);
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 400px;
        }

        .notification.show {
            transform: translateX(0);
            opacity: 1;
        }

        .notification.error {
            background: var(--danger);
        }

        footer {
            text-align: center;
            padding: 25px;
            color: var(--dark);
            opacity: 0.7;
            font-size: 0.95rem;
            width: 100%;
            margin-top: auto;
        }

        /* Animations */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(67, 97, 238, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(67, 97, 238, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(67, 97, 238, 0);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .bounce {
            animation: bounce 1s;
        }

        @keyframes colorShift {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        .demo-mode {
            animation: colorShift 10s infinite linear;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="slide-in">
            <h1><i class="fas fa-palette"></i> Color Picker & Converter</h1>
            <p class="subtitle">Explore, pick, and convert colors across different formats with real-time preview</p>
        </header>
        
        <div class="tool-container">
            <div class="picker-section slide-in" style="animation-delay: 0.1s">
                <h2 class="section-title"><i class="fas fa-eye-dropper"></i> Color Picker</h2>
                
                <div class="color-preview" id="colorPreview">
                    <div class="color-value" id="colorValue">#4361EE</div>
                </div>
                
                <div class="picker-controls">
                    <div class="control-group">
                        <label><i class="fas fa-sliders-h"></i> RGB Sliders</label>
                        <div class="color-inputs">
                            <div class="color-input">
                                <label>Red</label>
                                <input type="range" id="redSlider" min="0" max="255" value="67">
                                <div class="range-value" id="redValue">67</div>
                            </div>
                            <div class="color-input">
                                <label>Green</label>
                                <input type="range" id="greenSlider" min="0" max="255" value="97">
                                <div class="range-value" id="greenValue">97</div>
                            </div>
                            <div class="color-input">
                                <label>Blue</label>
                                <input type="range" id="blueSlider" min="0" max="255" value="238">
                                <div class="range-value" id="blueValue">238</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label><i class="fas fa-tint"></i> HSL Sliders</label>
                        <div class="color-inputs">
                            <div class="color-input">
                                <label>Hue</label>
                                <input type="range" id="hueSlider" min="0" max="360" value="235">
                                <div class="range-value" id="hueValue">235°</div>
                            </div>
                            <div class="color-input">
                                <label>Saturation</label>
                                <input type="range" id="saturationSlider" min="0" max="100" value="82">
                                <div class="range-value" id="saturationValue">82%</div>
                            </div>
                            <div class="color-input">
                                <label>Lightness</label>
                                <input type="range" id="lightnessSlider" min="0" max="100" value="60">
                                <div class="range-value" id="lightnessValue">60%</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <label><i class="fas fa-code"></i> HEX Color</label>
                    <div class="hex-input-container">
                        <input type="text" class="hex-input" id="hexInput" value="#4361EE" maxlength="7">
                        <button class="btn btn-secondary" id="randomColorBtn">
                            <i class="fas fa-dice"></i> Random
                        </button>
                    </div>
                </div>
                
                <div class="preset-colors">
                    <div class="preset-title">
                        <i class="fas fa-star"></i>
                        <span>Color Palette</span>
                    </div>
                    <div class="color-palette">
                        <div class="palette-color" style="background-color: #4361ee;" data-hex="#4361ee"></div>
                        <div class="palette-color" style="background-color: #3a0ca3;" data-hex="#3a0ca3"></div>
                        <div class="palette-color" style="background-color: #f72585;" data-hex="#f72585"></div>
                        <div class="palette-color" style="background-color: #4cc9f0;" data-hex="#4cc9f0"></div>
                        <div class="palette-color" style="background-color: #f8961e;" data-hex="#f8961e"></div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="copyHexBtn">
                        <i class="far fa-copy"></i> Copy HEX
                    </button>
                    <button class="btn btn-secondary" id="demoModeBtn">
                        <i class="fas fa-play"></i> Demo Mode
                    </button>
                </div>
            </div>
            
            <div class="converter-section slide-in" style="animation-delay: 0.2s">
                <h2 class="section-title"><i class="fas fa-exchange-alt"></i> Color Converter</h2>
                
                <div class="conversion-formats">
                    <div class="format-group">
                        <div class="format-item">
                            <div class="format-label">HEX Color</div>
                            <div class="format-value" id="hexFormat">
                                <span>#4361EE</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">RGB Color</div>
                            <div class="format-value" id="rgbFormat">
                                <span>rgb(67, 97, 238)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">HSL Color</div>
                            <div class="format-value" id="hslFormat">
                                <span>hsl(235, 82%, 60%)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="format-group">
                        <div class="format-item">
                            <div class="format-label">CMYK Color</div>
                            <div class="format-value" id="cmykFormat">
                                <span>cmyk(72%, 59%, 0%, 7%)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">HSV Color</div>
                            <div class="format-value" id="hsvFormat">
                                <span>hsv(235, 72%, 93%)</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                        <div class="format-item">
                            <div class="format-label">CSS Variable</div>
                            <div class="format-value" id="cssFormat">
                                <span>--primary-color: #4361ee;</span>
                                <i class="fas fa-copy copy-icon"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="color-properties">
                    <div class="property-card">
                        <div class="property-value" id="luminanceValue">0.28</div>
                        <div class="property-label">Luminance</div>
                    </div>
                    <div class="property-card">
                        <div class="property-value" id="contrastValue">4.5:1</div>
                        <div class="property-label">Contrast Ratio</div>
                    </div>
                    <div class="property-card">
                        <div class="property-value" id="temperatureValue">Cool</div>
                        <div class="property-label">Color Temperature</div>
                    </div>
                </div>
                
                <div class="preset-colors">
                    <div class="preset-title">
                        <i class="fas fa-palette"></i>
                        <span>Popular Colors</span>
                    </div>
                    <div class="preset-grid">
                        <div class="preset-color" style="background-color: #ff6b6b;" data-hex="#ff6b6b" data-name="Coral"></div>
                        <div class="preset-color" style="background-color: #4ecdc4;" data-hex="#4ecdc4" data-name="Turquoise"></div>
                        <div class="preset-color" style="background-color: #45b7d1;" data-hex="#45b7d1" data-name="Sky Blue"></div>
                        <div class="preset-color" style="background-color: #96ceb4;" data-hex="#96ceb4" data-name="Mint"></div>
                        <div class="preset-color" style="background-color: #feca57;" data-hex="#feca57" data-name="Sunflower"></div>
                        <div class="preset-color" style="background-color: #ff9ff3;" data-hex="#ff9ff3" data-name="Pink"></div>
                        <div class="preset-color" style="background-color: #54a0ff;" data-hex="#54a0ff" data-name="Blue"></div>
                        <div class="preset-color" style="background-color: #5f27cd;" data-hex="#5f27cd" data-name="Purple"></div>
                        <div class="preset-color" style="background-color: #00d2d3;" data-hex="#00d2d3" data-name="Teal"></div>
                        <div class="preset-color" style="background-color: #ff9f43;" data-hex="#ff9f43" data-name="Orange"></div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-success" id="copyAllBtn">
                        <i class="fas fa-copy"></i> Copy All Formats
                    </button>
                    <button class="btn btn-primary" id="resetBtn">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                </div>
            </div>
        </div>
        
        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span id="notificationText">Color copied to clipboard!</span>
        </div>
    </div>
    
    <footer>
        <p>Color Picker & Converter Tool &copy; 2023 | Design Utilities</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const colorPreview = document.getElementById('colorPreview');
            const colorValue = document.getElementById('colorValue');
            const hexInput = document.getElementById('hexInput');
            
            // RGB Sliders
            const redSlider = document.getElementById('redSlider');
            const greenSlider = document.getElementById('greenSlider');
            const blueSlider = document.getElementById('blueSlider');
            const redValue = document.getElementById('redValue');
            const greenValue = document.getElementById('greenValue');
            const blueValue = document.getElementById('blueValue');
            
            // HSL Sliders
            const hueSlider = document.getElementById('hueSlider');
            const saturationSlider = document.getElementById('saturationSlider');
            const lightnessSlider = document.getElementById('lightnessSlider');
            const hueValue = document.getElementById('hueValue');
            const saturationValue = document.getElementById('saturationValue');
            const lightnessValue = document.getElementById('lightnessValue');
            
            // Format displays
            const hexFormat = document.getElementById('hexFormat');
            const rgbFormat = document.getElementById('rgbFormat');
            const hslFormat = document.getElementById('hslFormat');
            const cmykFormat = document.getElementById('cmykFormat');
            const hsvFormat = document.getElementById('hsvFormat');
            const cssFormat = document.getElementById('cssFormat');
            
            // Property displays
            const luminanceValue = document.getElementById('luminanceValue');
            const contrastValue = document.getElementById('contrastValue');
            const temperatureValue = document.getElementById('temperatureValue');
            
            // Buttons
            const randomColorBtn = document.getElementById('randomColorBtn');
            const copyHexBtn = document.getElementById('copyHexBtn');
            const demoModeBtn = document.getElementById('demoModeBtn');
            const copyAllBtn = document.getElementById('copyAllBtn');
            const resetBtn = document.getElementById('resetBtn');
            
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            // Color palettes
            const paletteColors = document.querySelectorAll('.palette-color');
            const presetColors = document.querySelectorAll('.preset-color');
            
            // Variables
            let currentColor = {
                hex: '#4361EE',
                rgb: { r: 67, g: 97, b: 238 },
                hsl: { h: 235, s: 82, l: 60 }
            };
            
            let demoModeInterval = null;
            
            // Event Listeners
            // RGB Sliders
            redSlider.addEventListener('input', updateFromRGB);
            greenSlider.addEventListener('input', updateFromRGB);
            blueSlider.addEventListener('input', updateFromRGB);
            
            // HSL Sliders
            hueSlider.addEventListener('input', updateFromHSL);
            saturationSlider.addEventListener('input', updateFromHSL);
            lightnessSlider.addEventListener('input', updateFromHSL);
            
            // HEX Input
            hexInput.addEventListener('input', updateFromHex);
            hexInput.addEventListener('blur', validateHex);
            
            // Buttons
            randomColorBtn.addEventListener('click', generateRandomColor);
            copyHexBtn.addEventListener('click', copyHexToClipboard);
            demoModeBtn.addEventListener('click', toggleDemoMode);
            copyAllBtn.addEventListener('click', copyAllFormats);
            resetBtn.addEventListener('click', resetToDefault);
            
            // Format copy buttons
            hexFormat.addEventListener('click', () => copyFormat('hex'));
            rgbFormat.addEventListener('click', () => copyFormat('rgb'));
            hslFormat.addEventListener('click', () => copyFormat('hsl'));
            cmykFormat.addEventListener('click', () => copyFormat('cmyk'));
            hsvFormat.addEventListener('click', () => copyFormat('hsv'));
            cssFormat.addEventListener('click', () => copyFormat('css'));
            
            // Palette colors
            paletteColors.forEach(color => {
                color.addEventListener('click', function() {
                    const hex = this.getAttribute('data-hex');
                    setColorFromHex(hex);
                });
            });
            
            // Preset colors
            presetColors.forEach(color => {
                color.addEventListener('click', function() {
                    const hex = this.getAttribute('data-hex');
                    setColorFromHex(hex);
                });
            });
            
            // Initialize
            updateColorDisplay();
            
            // Functions
            function updateFromRGB() {
                const r = parseInt(redSlider.value);
                const g = parseInt(greenSlider.value);
                const b = parseInt(blueSlider.value);
                
                // Update display values
                redValue.textContent = r;
                greenValue.textContent = g;
                blueValue.textContent = b;
                
                // Update color object
                currentColor.rgb = { r, g, b };
                currentColor.hex = rgbToHex(r, g, b);
                currentColor.hsl = rgbToHsl(r, g, b);
                
                // Update HSL sliders
                updateHslSliders();
                
                // Update display
                updateColorDisplay();
            }
            
            function updateFromHSL() {
                const h = parseInt(hueSlider.value);
                const s = parseInt(saturationSlider.value);
                const l = parseInt(lightnessSlider.value);
                
                // Update display values
                hueValue.textContent = h + '°';
                saturationValue.textContent = s + '%';
                lightnessValue.textContent = l + '%';
                
                // Update color object
                currentColor.hsl = { h, s, l };
                currentColor.rgb = hslToRgb(h, s, l);
                currentColor.hex = rgbToHex(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                
                // Update RGB sliders
                updateRgbSliders();
                
                // Update display
                updateColorDisplay();
            }
            
            function updateFromHex() {
                let hex = hexInput.value;
                
                // Add # if missing
                if (hex.charAt(0) !== '#') {
                    hex = '#' + hex;
                    hexInput.value = hex;
                }
                
                // Validate hex format
                if (/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex)) {
                    setColorFromHex(hex);
                }
            }
            
            function validateHex() {
                let hex = hexInput.value;
                
                // Ensure proper format
                if (!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex)) {
                    // Reset to current color if invalid
                    hexInput.value = currentColor.hex;
                    showNotification('Invalid HEX color format!', true);
                }
            }
            
            function setColorFromHex(hex) {
                // Ensure proper format
                if (!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex)) {
                    showNotification('Invalid HEX color format!', true);
                    return;
                }
                
                // Convert 3-digit hex to 6-digit
                if (hex.length === 4) {
                    hex = '#' + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];
                }
                
                // Update hex input
                hexInput.value = hex;
                
                // Convert to RGB
                const r = parseInt(hex.substr(1, 2), 16);
                const g = parseInt(hex.substr(3, 2), 16);
                const b = parseInt(hex.substr(5, 2), 16);
                
                // Update color object
                currentColor.hex = hex;
                currentColor.rgb = { r, g, b };
                currentColor.hsl = rgbToHsl(r, g, b);
                
                // Update sliders
                updateRgbSliders();
                updateHslSliders();
                
                // Update display
                updateColorDisplay();
            }
            
            function updateRgbSliders() {
                redSlider.value = currentColor.rgb.r;
                greenSlider.value = currentColor.rgb.g;
                blueSlider.value = currentColor.rgb.b;
                
                redValue.textContent = currentColor.rgb.r;
                greenValue.textContent = currentColor.rgb.g;
                blueValue.textContent = currentColor.rgb.b;
            }
            
            function updateHslSliders() {
                hueSlider.value = currentColor.hsl.h;
                saturationSlider.value = currentColor.hsl.s;
                lightnessSlider.value = currentColor.hsl.l;
                
                hueValue.textContent = currentColor.hsl.h + '°';
                saturationValue.textContent = currentColor.hsl.s + '%';
                lightnessValue.textContent = currentColor.hsl.l + '%';
            }
            
            function updateColorDisplay() {
                // Update preview
                colorPreview.style.backgroundColor = currentColor.hex;
                colorValue.textContent = currentColor.hex;
                
                // Update format displays
                hexFormat.querySelector('span').textContent = currentColor.hex;
                rgbFormat.querySelector('span').textContent = `rgb(${currentColor.rgb.r}, ${currentColor.rgb.g}, ${currentColor.rgb.b})`;
                hslFormat.querySelector('span').textContent = `hsl(${currentColor.hsl.h}, ${currentColor.hsl.s}%, ${currentColor.hsl.l}%)`;
                
                // Calculate and update other formats
                const cmyk = rgbToCmyk(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                const hsv = rgbToHsv(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                
                cmykFormat.querySelector('span').textContent = `cmyk(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)`;
                hsvFormat.querySelector('span').textContent = `hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)`;
                cssFormat.querySelector('span').textContent = `--primary-color: ${currentColor.hex};`;
                
                // Update properties
                updateColorProperties();
            }
            
            function updateColorProperties() {
                // Calculate relative luminance
                const luminance = calculateLuminance(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                luminanceValue.textContent = luminance.toFixed(2);
                
                // Calculate contrast ratio (against white)
                const contrast = (luminance + 0.05) / 0.05;
                contrastValue.textContent = contrast.toFixed(1) + ':1';
                
                // Determine color temperature
                const temp = determineColorTemperature(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                temperatureValue.textContent = temp;
            }
            
            function generateRandomColor() {
                const r = Math.floor(Math.random() * 256);
                const g = Math.floor(Math.random() * 256);
                const b = Math.floor(Math.random() * 256);
                
                currentColor.rgb = { r, g, b };
                currentColor.hex = rgbToHex(r, g, b);
                currentColor.hsl = rgbToHsl(r, g, b);
                
                updateRgbSliders();
                updateHslSliders();
                hexInput.value = currentColor.hex;
                updateColorDisplay();
                
                showNotification('Random color generated!');
            }
            
            function toggleDemoMode() {
                if (demoModeInterval) {
                    // Stop demo mode
                    clearInterval(demoModeInterval);
                    demoModeInterval = null;
                    demoModeBtn.innerHTML = '<i class="fas fa-play"></i> Demo Mode';
                    demoModeBtn.classList.remove('btn-success');
                    demoModeBtn.classList.add('btn-secondary');
                    colorPreview.classList.remove('demo-mode');
                    showNotification('Demo mode stopped');
                } else {
                    // Start demo mode
                    demoModeInterval = setInterval(generateRandomColor, 1000);
                    demoModeBtn.innerHTML = '<i class="fas fa-stop"></i> Stop Demo';
                    demoModeBtn.classList.remove('btn-secondary');
                    demoModeBtn.classList.add('btn-success');
                    colorPreview.classList.add('demo-mode');
                    showNotification('Demo mode started');
                }
            }
            
            function copyHexToClipboard() {
                copyToClipboard(currentColor.hex);
                showNotification('HEX color copied to clipboard!');
                
                // Add bounce animation
                copyHexBtn.classList.add('bounce');
                setTimeout(() => {
                    copyHexBtn.classList.remove('bounce');
                }, 1000);
            }
            
            function copyFormat(format) {
                let text = '';
                
                switch(format) {
                    case 'hex':
                        text = currentColor.hex;
                        break;
                    case 'rgb':
                        text = `rgb(${currentColor.rgb.r}, ${currentColor.rgb.g}, ${currentColor.rgb.b})`;
                        break;
                    case 'hsl':
                        text = `hsl(${currentColor.hsl.h}, ${currentColor.hsl.s}%, ${currentColor.hsl.l}%)`;
                        break;
                    case 'cmyk':
                        const cmyk = rgbToCmyk(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                        text = `cmyk(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)`;
                        break;
                    case 'hsv':
                        const hsv = rgbToHsv(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                        text = `hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)`;
                        break;
                    case 'css':
                        text = `--primary-color: ${currentColor.hex};`;
                        break;
                }
                
                copyToClipboard(text);
                
                // Visual feedback
                const element = document.getElementById(`${format}Format`);
                element.classList.add('copied');
                setTimeout(() => {
                    element.classList.remove('copied');
                }, 1000);
                
                showNotification(`${format.toUpperCase()} format copied!`);
            }
            
            function copyAllFormats() {
                const cmyk = rgbToCmyk(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                const hsv = rgbToHsv(currentColor.rgb.r, currentColor.rgb.g, currentColor.rgb.b);
                
                const text = `HEX: ${currentColor.hex}
RGB: rgb(${currentColor.rgb.r}, ${currentColor.rgb.g}, ${currentColor.rgb.b})
HSL: hsl(${currentColor.hsl.h}, ${currentColor.hsl.s}%, ${currentColor.hsl.l}%)
CMYK: cmyk(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)
HSV: hsv(${hsv.h}, ${hsv.s}%, ${hsv.v}%)
CSS: --primary-color: ${currentColor.hex};`;
                
                copyToClipboard(text);
                showNotification('All color formats copied to clipboard!');
                
                // Add bounce animation
                copyAllBtn.classList.add('bounce');
                setTimeout(() => {
                    copyAllBtn.classList.remove('bounce');
                }, 1000);
            }
            
            function resetToDefault() {
                // Stop demo mode if running
                if (demoModeInterval) {
                    clearInterval(demoModeInterval);
                    demoModeInterval = null;
                    demoModeBtn.innerHTML = '<i class="fas fa-play"></i> Demo Mode';
                    demoModeBtn.classList.remove('btn-success');
                    demoModeBtn.classList.add('btn-secondary');
                    colorPreview.classList.remove('demo-mode');
                }
                
                // Reset to default color
                setColorFromHex('#4361EE');
                showNotification('Reset to default color!');
            }
            
            function copyToClipboard(text) {
                // Create a temporary textarea to copy from
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                
                try {
                    document.execCommand('copy');
                } catch (err) {
                    console.error('Could not copy text: ', err);
                }
                
                document.body.removeChild(textArea);
            }
            
            function showNotification(message, isError = false) {
                notificationText.textContent = message;
                notification.className = 'notification';
                notification.classList.add(isError ? 'error' : 'show');
                if (!isError) notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Color conversion functions
            function rgbToHex(r, g, b) {
                return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
            }
            
            function rgbToHsl(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, l = (max + min) / 2;
                
                if (max === min) {
                    h = s = 0; // achromatic
                } else {
                    const d = max - min;
                    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                    
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    
                    h /= 6;
                }
                
                return {
                    h: Math.round(h * 360),
                    s: Math.round(s * 100),
                    l: Math.round(l * 100)
                };
            }
            
            function hslToRgb(h, s, l) {
                h /= 360;
                s /= 100;
                l /= 100;
                
                let r, g, b;
                
                if (s === 0) {
                    r = g = b = l; // achromatic
                } else {
                    const hue2rgb = (p, q, t) => {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1/6) return p + (q - p) * 6 * t;
                        if (t < 1/2) return q;
                        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                        return p;
                    };
                    
                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;
                    
                    r = hue2rgb(p, q, h + 1/3);
                    g = hue2rgb(p, q, h);
                    b = hue2rgb(p, q, h - 1/3);
                }
                
                return {
                    r: Math.round(r * 255),
                    g: Math.round(g * 255),
                    b: Math.round(b * 255)
                };
            }
            
            function rgbToCmyk(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const k = 1 - Math.max(r, g, b);
                const c = (1 - r - k) / (1 - k) || 0;
                const m = (1 - g - k) / (1 - k) || 0;
                const y = (1 - b - k) / (1 - k) || 0;
                
                return {
                    c: Math.round(c * 100),
                    m: Math.round(m * 100),
                    y: Math.round(y * 100),
                    k: Math.round(k * 100)
                };
            }
            
            function rgbToHsv(r, g, b) {
                r /= 255;
                g /= 255;
                b /= 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                let h, s, v = max;
                
                const d = max - min;
                s = max === 0 ? 0 : d / max;
                
                if (max === min) {
                    h = 0; // achromatic
                } else {
                    switch (max) {
                        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                        case g: h = (b - r) / d + 2; break;
                        case b: h = (r - g) / d + 4; break;
                    }
                    
                    h /= 6;
                }
                
                return {
                    h: Math.round(h * 360),
                    s: Math.round(s * 100),
                    v: Math.round(v * 100)
                };
            }
            
            function calculateLuminance(r, g, b) {
                const [rs, gs, bs] = [r, g, b].map(c => {
                    c /= 255;
                    return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
                });
                
                return 0.2126 * rs + 0.7152 * gs + 0.0722 * bs;
            }
            
            function determineColorTemperature(r, g, b) {
                // Simple temperature detection based on RGB values
                if (r > g && r > b) {
                    return 'Warm';
                } else if (b > r && b > g) {
                    return 'Cool';
                } else if (g > r && g > b) {
                    return r > b ? 'Warm Green' : 'Cool Green';
                } else {
                    return 'Neutral';
                }
            }
        });
    </script>
</body>
</html>
